<!DOCTYPE html>
<html>
    <head>
        <title>Tilkommen inntekt</title>
        <style>
            html {
                font-family: 'Arial', sans-serif, bold;
            }
            html, body, #karusell {
                height: 100%;
            }
            .periode {
                height: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                font-size: 5em;
                background-color: #13073A;
                padding-left: 2em;
                padding-right: 2em;
            }
            div.periode > .postfix {
                color: #FFE3AA;
            }
            div.periode > .tid {
                padding-right: 0.2em;
                color: #FFFFAA;
            }
            
        </style>
        <script>
            let template = "<span class='aar'></span><span class='uker'></span><span class='dager'></span>";
            class Periode {
                constructor(startDate, endDate, prefix, postfix) {
                    this.startDate = startDate;
                    this.endDate = endDate;
                    this.prefix = prefix;
                    this.postfix = postfix;
                }
                abs_dager() { 
                    return Math.round((this.endDate.getTime() - this.startDate.getTime()) / (24 * 3600 * 1000)) }
                
                buildDOM() {
                    let parent = document.createElement("div");
                    parent.classList.add("periode");
                    let postfix = document.createElement("span");
                    postfix.classList.add("postfix")
                    postfix.innerHTML = this.prefix + " " + this.abs_dager() + " " + this.postfix;
                    parent.appendChild(postfix);
                    return parent;
                }
                
                _add(parent, mengde, klassifisering) {
                    if (mengde != 0) {
                        let span = document.createElement("span");
                        span.classList.add("tid");
                        span.classList.add(klassifisering);
                        span.innerHTML = mengde + " " + klassifisering;
                        parent.appendChild(span);
                    }
                }
            }

            function add(date, prefix, postfix) {
                document.getElementById("karusell").appendChild(new Periode(date, new Date(Date.now()), prefix, postfix).buildDOM());
            }               

        </script>
    </head>
    <body>
        <section id="karusell"></section>
        <script>
            add(new Date("November 14, 2023"), "Vi har jobbet med tilkommen inntekt i ", " dager")
          </script>
    </body>
</html>
